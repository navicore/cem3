# Non-Tail Recursive Function Test
#
# This test verifies that non-tail-recursive functions still work correctly.
# This is the classic factorial that can't be tail-call optimized because
# the multiplication happens AFTER the recursive call returns.

: factorial ( Int -- Int )
    dup 1 i.<= if
        drop 1
    else
        dup 1 i.subtract factorial i.multiply
    then
;

: main ( -- )
    "Testing non-tail recursive factorial..." io.write-line
    10 factorial int->string io.write-line
    "Success! Non-tail recursive works (result should be 3628800)." io.write-line
;

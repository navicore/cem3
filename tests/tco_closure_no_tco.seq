# Closure Without TCO Test
#
# This test verifies that closures work correctly even though they
# don't use tail call optimization (due to signature mismatch).
# Closures compile and run correctly, just without TCO.

: add-n ( Int Int -- Int )
    i.add
;

: main ( -- )
    "Testing closure without TCO..." io.write-line
    # Test a simple quotation that captures a value
    5 [ 2 add-n ] call
    int->string io.write-line
    "Success! Closure works (result should be 7)." io.write-line
;

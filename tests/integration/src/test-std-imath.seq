# std:imath Integration Test

include std:imath

: test-abs ( -- )
  5 abs 5 test.assert-eq
  -5 abs 5 test.assert-eq
  0 abs 0 test.assert-eq
;

: test-max ( -- )
  3 7 max 7 test.assert-eq
  7 3 max 7 test.assert-eq
  -10 -5 max -5 test.assert-eq
;

: test-min ( -- )
  3 7 min 3 test.assert-eq
  7 3 min 3 test.assert-eq
  -10 -5 min -10 test.assert-eq
;

: test-mod ( -- )
  10 3 mod 1 test.assert-eq
  15 5 mod 0 test.assert-eq
  17 4 mod 1 test.assert-eq
;

: test-gcd ( -- )
  48 18 gcd 6 test.assert-eq
  100 35 gcd 5 test.assert-eq
  17 13 gcd 1 test.assert-eq
;

: test-pow ( -- )
  2 0 pow 1 test.assert-eq
  2 3 pow 8 test.assert-eq
  2 10 pow 1024 test.assert-eq
;

: test-sign ( -- )
  5 sign 1 test.assert-eq
  -5 sign -1 test.assert-eq
  0 sign 0 test.assert-eq
;

: test-square ( -- )
  5 square 25 test.assert-eq
  -3 square 9 test.assert-eq
  0 square 0 test.assert-eq
;

: test-clamp ( -- )
  50 0 100 clamp 50 test.assert-eq
  -10 0 100 clamp 0 test.assert-eq
  150 0 100 clamp 100 test.assert-eq
;
